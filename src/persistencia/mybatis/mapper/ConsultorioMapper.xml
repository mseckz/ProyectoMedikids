<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper 
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
 <mapper namespace="persistencia.mybatis.mapper.ConsultorioMapper">
 	
 	<insert id="registrar" parameterType="Consultorio" useGeneratedKeys="true" keyProperty="id">
 		INSERT INTO CONSULTORIO (cod_consultorio,ubicacion,descripcion,id_especialidad) 
 		VALUES (#{codigo},#{ubicacion},#{descripcion},#{especialidad.id})
 	</insert>
 	
 	<insert id="registrarHorario" parameterType="horario" useGeneratedKeys="true">
 		INSERT INTO HORARIOS (id_consultorio,id_medico,id_dia,id_turno) VALUES
 		<foreach item="h" collection="list" open="(" separator="),(" close=")">
 			#{h.consultorio.id}, #{h.medico.id},#{h.dia.id},#{h.turno.id}
 		</foreach>
 	</insert>
 </mapper>